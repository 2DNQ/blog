function parallax(){var o=$(window).scrollTop();$("header .bg").css("top",-(.1*o)+"px"),$("header .sub-bg").css("opacity",.6-.01*o/10),$("header .maintenance").css("top",50+.1*o+"%")}function inViewport(o){var t=$(window).height(),n=o[0].getBoundingClientRect(),e=n.top,c=n.bottom;return Math.max(0,e>0?t-e:t>c?c:t)}tocbot.init({tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h2, h3"}),$(".social-toggle").on("click",function(){$(this).next().toggleClass("open-menu")}),$(".show-comments").on("click",function(){$(".comments .hint").toggleClass("hide")}),$(window).scroll(function(){parallax()}),$(window).on("scroll resize",function(){var o=inViewport($(".intro"));$(".overlay").height(o),$(".caption").css("bottom",o/4)});