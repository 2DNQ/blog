<!DOCTYPE html>
<html lang="ru">
	<head>
		<title>Кат в Эгее</title>

		<!--[ Meta ]-->
			<meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="robots" content="index, follow" />

	<meta name="author" content="Александра Травкина">
	<meta name="generator" content="Jekyll v3.8.2" />

	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="Milkleaks">
	<meta name="twitter:creator" content="@sasha_travkina">
	<meta name="twitter:title" content="Кат в Эгее &middot; Milkleaks">
	<meta name="twitter:description" content="Как известно Эгея не имеет функции скрытия длинных постов под катом, в этой статье Илья Бирман объясняет почему. Тем не менее, многие нуждаются в сокращении слишком длинных постов, а потому, в этой заметке я расскажу как «прикрутить» кат к Эгее...">
	<meta name="twitter:image" content="https://res.cloudinary.com/milkleaks/image/upload/c_thumb,h_360,q_100,w_640/v1519564418/thumb_fyr9c9.jpg">

	<meta property="og:title" content="Кат в Эгее &middot; Milkleaks" />
	<meta property="og:site_name" content="Milkleaks">	
	<meta property="og:url" content="https://milkleaks.ru/blog/kat-v-egee/">
	<meta property="og:description" content="Как известно Эгея не имеет функции скрытия длинных постов под катом, в этой статье Илья Бирман объясняет почему. Тем не менее, многие нуждаются в сокращении слишком длинных постов, а потому, в этой заметке я расскажу как «прикрутить» кат к Эгее..."/>
	<meta property="og:image" content="https://res.cloudinary.com/milkleaks/image/upload/c_thumb,h_360,q_100,w_640/v1519564418/thumb_fyr9c9.jpg" />
	<meta property="og:image:height" content="360">
	<meta property="og:image:width" content="640">
	<meta property="og:type" content="article">
	<meta property="og:locale" content="ru">

	<!--[ Favicons ]-->
	<link rel="icon" type="image/png" sizes="32x32" href="https://milkleaks.ru/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://milkleaks.ru/favicon-16x16.png">
	<link rel="apple-touch-icon" sizes="72x72" href="https://milkleaks.ru/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="https://milkleaks.ru/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="https://milkleaks.ru/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="https://milkleaks.ru/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="https://milkleaks.ru/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="https://milkleaks.ru/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="https://milkleaks.ru/apple-touch-icon-180x180.png">
	<link rel="manifest" href="https://milkleaks.ru/manifest.json">
	<link rel="mask-icon" href="https://milkleaks.ru/favicon.svg">

	<!--[ Control ]-->
	<meta name="yandex-verification" content="74c3b5c777ee0ba1" />
	<meta name="google-site-verification" content="jqmtruexSTI1O_HYicSlVMgM4nNh_Di_7zlyTbYlMc8" />

	<!--[ Feed ]-->
	<link rel="canonical" href="https://milkleaks.ru/blog/kat-v-egee/">
	<link rel="alternate" type="application/rss+xml" title="Milkleaks" href="https://milkleaks.ru/feed.xml" />
		
		<!--[ CSS ]-->
		<link rel="stylesheet" type="text/css" href="/static/style.css" />

		<!--[ JS ]-->
		<script type="text/javascript" src="/static/js/jquery.js"></script>
<script type="text/javascript" src="/static/modules/primarycolor/primarycolor.js"></script>
<script type="text/javascript" src="/static/modules/chart/chart.min.js"></script>
<script type="text/javascript" src="/static/modules/readmore/readmore.js"></script>
		<script type="text/javascript">base_url = "https://milkleaks.ru";</script>
		<script type="application/ld+json">

	
	

	{  
		"@context":"http://schema.org",
		"@type":"BlogPosting",
		"headline":"Кат в Эгее",
		"genre":"Веб",
		"keywords":"Гайд, Эгея",
		"wordCount":"877",
		"url":"https://milkleaks.ru/blog/kat-v-egee/",
		"datePublished":"2018-01-23",
		"dateModified":"2018-01-23",
		"author":{  
			"@type":"Person",
			"name":"Александра Травкина",
			"sameAs":[  
				"https://twitter.com/sasha_travkina",
				"https://github.com/sasha-travkina",
				"https://t.me/sashatravkina"
			]
		},
		"publisher":{  
			"@type":"Person",
			"name":"Александра Травкина",
			"sameAs":[  
				"https://twitter.com/sasha_travkina",
				"https://github.com/sasha-travkina",
				"https://t.me/sashatravkina"
			]
		},
		"image":{  
			"@type":"ImageObject",
			"contentUrl":"https://res.cloudinary.com/milkleaks/image/upload/c_thumb,h_360,q_100,w_640/v1519564418/thumb_fyr9c9.jpg",
			"url":"https://milkleaks.ru/",
			"height":"360",
			"width":"640"
		},
		"mainEntityOfPage":{  
			"@type":"WebPage",
			"@id":"https://milkleaks.ru/"
		},
		"articleBody":"Как известно Эгея не имеет функции скрытия длинных постов под катом, в этой статье Илья Бирман объясняет почему. Тем не менее, многие нуждаются в сокращении слишком длинных постов, а потому, в этой заметке я расскажу как «прикрутить» кат к Эгее с использованием скрипта readmore.js. Особенность readmore.js в том, что раскрывать длинные записи для чтения можно без перезагрузки страницы и новых вкладок в браузере, нечто подобное используется, например, ВКонтакте или на Пикабу.Скачаем сам скрипт readmore.js с GitHub и поместим файл readmore.min.js в заранее созданную папку js в корне вашего шаблона.../themes/plain/js/readmore.min.jsЗатем создадим файл script.tmpl.php в папке templates шаблона, в нём мы будем подключать и настраивать сам скрипт.../themes/plain/templates/script.tmpl.phpДобавим в созданный файл немного настроек, полный список которых можно посмотреть на странице скрипта на GitHub.&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;    $('.e2-note-short').readmore({        speed: 75, // Скорость раскрытия ката        collapsedHeight: 1250, // Длинна заметки после которой будет добавлен кат        moreLink: '&amp;lt;div class=&quot;more&quot;&amp;gt;&amp;lt;a class=&quot;morelink&quot; href=&quot;#&quot;&amp;gt;Показать полностью&amp;lt;/a&amp;gt;&amp;lt;/div&amp;gt;', // Классы кнокпи раскрытия ката        lessLink: '' // Классы кнокпи скрытия ката    });&amp;lt;/script&amp;gt;Теперь добавим класс .e2-note-short на основании которого будет добавляться кат к вашим записям, для этого нужно скопировать файл:../system/theme/templates/notes.tmpl.phpИ поместить в папку templates вашего шаблона.../themes/plain/templates/notes.tmpl.phpЗатем откроем notes.tmpl.php где на 27 строке добавим к &amp;lt;article&amp;gt; класс e2-note-short обернув его php параметром, чтобы кат не работал на отдельной странице с записью.&amp;lt;article class=&quot;&amp;lt;?php if ($content['class'] != 'note') { ?&amp;gt;e2-note-short&amp;lt;?php } ?&amp;gt;&quot;&amp;gt;Теперь в папке styles шаблона создадим файл style.css со стилями кнопки ката. В дальнейшем в этот css можно добавлять любые собственные стили без конфликта с основным файлом стилей шаблона Эгеи.../themes/plain/styles/style.cssДобавим стилей. Их можно отредактировать на свой вкус..more {    position: relative;}.more::before {    content: &quot;&quot;;    background: -moz-linear-gradient(top, rgba(255,255,255,0) 40%, rgba(255,255,255,1) 80%);    background: -webkit-linear-gradient(top, rgba(255,255,255,0) 40%,rgba(255,255,255,1) 80%);    background: linear-gradient(to bottom, rgba(255,255,255,0) 40%,rgba(255,255,255,1) 80%);    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 );     pointer-events: none;    position: absolute;    display: block;    height: 150px;    width: 100%;    top: -150px;    left: 0;}a.morelink {    -webkit-border-radius: 2px;    -moz-border-radius: 2px;    border-radius: 2px;    background: #f1f3f4;    text-align: center;    max-width: 720px;    color: #8890a7;    font-size: 14px;    display: block;    width: 100%;    margin-bottom: 1em;    border-bottom: 0;    padding: 10px;}a.morelink:hover {    background: #e2e5e6;    color: #8890a7;}Далее, необходимо подключить все созданные файлы, для этого копируем main.tmpl.php.../system/theme/templates/main.tmpl.phpИ вставляем в папку templates вашего шаблона.../themes/plain/templates/main.tmpl.phpТеперь отредактируем main.tmpl.php добавив стили после основных стилей &amp;lt;?php _CSS ('main') ?&amp;gt; в конце файла.&amp;lt;?php _CSS ('style') ?&amp;gt;А после основных скриптов шаблона &amp;lt;?php _JS ('main') ?&amp;gt; добавим сам readmore.js.&amp;lt;?php _JS ('readmore.min') ?&amp;gt;Также перед закрывающимся тегом &amp;lt;/html&amp;gt; добавим файл с настройками скрипта.&amp;lt;?php _T ('script') ?&amp;gt;Таким образом мы добавили кат в Эгею.																				Возможно где-то придется отредактировать стили по ситуации, подобрать оптимальную длину заметки после которой кат будет скрывать запись и тому подобное. Стандартный шаблон plain здесь используется в качестве примера, но намного лучше сделать его копию и переименовать на свой лад, дабы при последующих обновлениях Эгеи ничего лишнего не перезаписалось.Смотрите ещё: Свои шрифты в Эгее, Пишем свой шаблон для Эгеи и Сноски на полях в Эгее."
	}


</script>

	</head>

	<body class="page-post">

<div class="row space-out-zero-xs height-full">
    <div class="col-xs-12 col-xl-6 space-in-zero-xs sidebar">
        <section class="background">
	<div class="bg"></div>
	<div class="space-in-h-micro-xs space-in-h-base-sm space-out-h-zero-xs content">
		<div class="space-in-v-mili-xs space-in-h-zero-xs space-out-bottom-kilo-xl space-auto-h-xs divider-white linel">
			<header class="logo">
				<a class="link-logo" href="/">
					<img srcset="/static/images/avatar_96x96.png 2x, /static/images/avatar_192x192.png 4x" src="/static/images/avatar_48x48.png" width="48" height="48" alt="Milkleaks">					
				</a>
			</header>
		</div>
		<div class="space-auto-top-xs space-out-top-zero-xl space-in-bottom-mili-xs space-in-bottom-zero-xl space-auto-h-xs linel title">
			<h1 class="space-out-v-zero-xs">Кат в Эгее</h1>
			
		</div>
		<div class="space-auto-top-xs space-in-bottom-base-xl space-in-h-zero-xs space-auto-h-xs hidden-upto-xl linel">
			<nav class="row row-between-sm pagination aside">			
				
				<span class="col-xl-4 page-number">Запись: 80 из 88</span>
				<span class="col-xl-8 previous next">
					
						<a title="Beat Cop" class="link" href="/blog/beat-cop/" rel="prev">&lsaquo; Ранее</a>
					
					
						<a title="О любимых сериалах" class="space-in-left-nano-xs link" href="/blog/o-ljubimyh-serialah/" rel="next">Позднее &rsaquo;</a>
					
				</span>
				
			</nav>
		
		</div>
	</div>
</section>


    </div>
    <div class="col-xs-12 col-xl-6 col-xl-offset-6 space-in-h-zero-xs height-full">
        <div class="space-auto-h-xs space-in-h-micro-xs space-in-h-base-sm space-in-top-mili-xs space-in-bottom-base-xs wrapper ">
            <header class="col-last-xs col-first-xl space-in-top-mili-xs space-in-top-zero-xl space-out-bottom-kilo-xl space-in-bottom-mili-xl divider-black linel">
	<div class="search space-auto-left-md">
		<div class="search-form">
			<input type="text" id="search-input" autocomplete="off" autocapitalize="off" class="search-box">
			<span class="search-button">
				<i class="fa fa-search open" aria-hidden="true"></i>
				<i class="fa fa-times close" aria-hidden="true"></i>
			</span>
		</div>
		<div class="dropdown">
			<ul class="results" id="results-container"></ul>
		</div>
	</div>
</header>
            <article class="slide-up-fade-in content post">
	<p>Как известно <a href="https://blogengine.ru" rel="nofollow" target="_blank">Эгея</a> не имеет функции скрытия длинных постов под катом, в этой <a href="https://ilyabirman.ru/meanwhile/all/no-cut-in-aegea/" rel="nofollow" target="_blank">статье</a> Илья Бирман объясняет почему. Тем не менее, многие нуждаются в сокращении слишком длинных постов, а потому, в этой заметке я расскажу как «прикрутить» кат к Эгее с использованием скрипта <a href="http://jedfoster.com/Readmore.js/" rel="nofollow" target="_blank">readmore.js</a>. Особенность readmore.js в том, что раскрывать длинные записи для чтения можно без перезагрузки страницы и новых вкладок в браузере, нечто подобное используется, например, ВКонтакте или на Пикабу.</p>



<p>Скачаем сам скрипт <a href="https://github.com/jedfoster/Readmore.js" rel="nofollow" target="_blank">readmore.js</a> с GitHub и поместим файл <code class="highlighter-rouge">readmore.min.js</code> в заранее созданную папку <code class="highlighter-rouge">js</code> в корне вашего шаблона.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../themes/plain/js/readmore.min.js</code></pre></figure>

<p>Затем создадим файл <code class="highlighter-rouge">script.tmpl.php</code> в папке <code class="highlighter-rouge">templates</code> шаблона, в нём мы будем подключать и настраивать сам скрипт.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../themes/plain/templates/script.tmpl.php</code></pre></figure>

<p>Добавим в созданный файл немного настроек, полный список которых можно посмотреть на странице скрипта на GitHub.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.e2-note-short'</span><span class="p">).</span><span class="nx">readmore</span><span class="p">({</span>
        <span class="na">speed</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span> <span class="c1">// Скорость раскрытия ката</span>
        <span class="na">collapsedHeight</span><span class="p">:</span> <span class="mi">1250</span><span class="p">,</span> <span class="c1">// Длинна заметки после которой будет добавлен кат</span>
        <span class="na">moreLink</span><span class="p">:</span> <span class="s1">'&lt;div class="more"&gt;&lt;a class="morelink" href="#"&gt;Показать полностью&lt;/a&gt;&lt;/div&gt;'</span><span class="p">,</span> <span class="c1">// Классы кнокпи раскрытия ката</span>
        <span class="na">lessLink</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// Классы кнокпи скрытия ката</span>
    <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span></code></pre></figure>

<p>Теперь добавим класс <code class="highlighter-rouge">.e2-note-short</code> на основании которого будет добавляться кат к вашим записям, для этого нужно скопировать файл:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../system/theme/templates/notes.tmpl.php</code></pre></figure>

<p>И поместить в папку <code class="highlighter-rouge">templates</code> вашего шаблона.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../themes/plain/templates/notes.tmpl.php</code></pre></figure>

<p>Затем откроем <code class="highlighter-rouge">notes.tmpl.php</code> где на 27 строке добавим к <code class="highlighter-rouge">&lt;article&gt;</code> класс <code class="highlighter-rouge">e2-note-short</code> обернув его <code class="highlighter-rouge">php</code> параметром, чтобы кат не работал на отдельной странице с записью.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nt">&lt;article</span> <span class="na">class=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$content</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'note'</span><span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="s">e2-note-short</span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span></code></pre></figure>

<p>Теперь в папке <code class="highlighter-rouge">styles</code> шаблона создадим файл <code class="highlighter-rouge">style.css</code> со стилями кнопки ката. В дальнейшем в этот <code class="highlighter-rouge">css</code> можно добавлять любые собственные стили без конфликта с основным файлом стилей шаблона Эгеи.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../themes/plain/styles/style.css</code></pre></figure>

<p>Добавим стилей. Их можно отредактировать на свой вкус.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.more</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.more</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-moz-linear-gradient</span><span class="p">(</span><span class="nb">top</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">40%</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">80%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-webkit-linear-gradient</span><span class="p">(</span><span class="nb">top</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">40%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">80%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">linear-gradient</span><span class="p">(</span><span class="n">to</span> <span class="nb">bottom</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">40%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">255</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">80%</span><span class="p">);</span>
    <span class="nl">filter</span><span class="p">:</span> <span class="n">progid</span><span class="p">:</span><span class="n">DXImageTransform</span><span class="p">.</span><span class="n">Microsoft</span><span class="p">.</span><span class="n">gradient</span><span class="p">(</span> <span class="n">startColorstr</span><span class="err">=</span><span class="s2">'#00ffffff'</span><span class="p">,</span> <span class="n">endColorstr</span><span class="err">=</span><span class="s2">'#ffffff'</span><span class="p">,</span><span class="n">GradientType</span><span class="err">=</span><span class="m">0</span> <span class="p">);</span> 
    <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">150px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">-150px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">a</span><span class="nc">.morelink</span> <span class="p">{</span>
    <span class="nl">-webkit-border-radius</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
    <span class="nl">-moz-border-radius</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="m">#f1f3f4</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">max-width</span><span class="p">:</span> <span class="m">720px</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#8890a7</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">14px</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span>
    <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">a</span><span class="nc">.morelink</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="nl">background</span><span class="p">:</span> <span class="m">#e2e5e6</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#8890a7</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Далее, необходимо подключить все созданные файлы, для этого копируем <code class="highlighter-rouge">main.tmpl.php</code>.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../system/theme/templates/main.tmpl.php</code></pre></figure>

<p>И вставляем в папку <code class="highlighter-rouge">templates</code> вашего шаблона.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">../themes/plain/templates/main.tmpl.php</code></pre></figure>

<p>Теперь отредактируем <code class="highlighter-rouge">main.tmpl.php</code> добавив стили после основных стилей <code class="highlighter-rouge"><span class="cp">&lt;?php</span> <span class="nx">_CSS</span> <span class="p">(</span><span class="s1">'main'</span><span class="p">)</span> <span class="cp">?&gt;</span></code> в конце файла.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nx">_CSS</span> <span class="p">(</span><span class="s1">'style'</span><span class="p">)</span> <span class="cp">?&gt;</span></code></pre></figure>

<p>А после основных скриптов шаблона <code class="highlighter-rouge"><span class="cp">&lt;?php</span> <span class="nx">_JS</span> <span class="p">(</span><span class="s1">'main'</span><span class="p">)</span> <span class="cp">?&gt;</span></code> добавим сам <code class="highlighter-rouge">readmore.js</code>.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nx">_JS</span> <span class="p">(</span><span class="s1">'readmore.min'</span><span class="p">)</span> <span class="cp">?&gt;</span></code></pre></figure>

<p>Также перед закрывающимся тегом <code class="highlighter-rouge">&lt;/html&gt;</code> добавим файл с настройками скрипта.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="nx">_T</span> <span class="p">(</span><span class="s1">'script'</span><span class="p">)</span> <span class="cp">?&gt;</span></code></pre></figure>

<p>Таким образом мы добавили кат в Эгею.</p>

<figure class="without-shadow picture">
				<a href="https://res.cloudinary.com/milkleaks/image/upload/v1519216527/01_ooazsz.png" class="lightbox-image" data-lightbox="image" rel="nofollow" target="_blank">
					<img src="https://res.cloudinary.com/milkleaks/image/upload/c_limit,w_800/v1519216527/01_ooazsz.png">
				</a>
				
			</figure>

<p>Возможно где-то придется отредактировать стили по ситуации, подобрать оптимальную длину заметки после которой кат будет скрывать запись и тому подобное. Стандартный шаблон <code class="highlighter-rouge">plain</code> здесь используется в качестве примера, но намного лучше сделать его копию и переименовать на свой лад, дабы при последующих обновлениях Эгеи ничего лишнего не перезаписалось.</p>

<p class="subtext">Смотрите ещё: <a href="/blog/svoi-shrifty-v-egee/">Свои шрифты в Эгее</a>, <a href="/blog/pishem-svoy-shablon-dlya-egei/">Пишем свой шаблон для Эгеи</a> и <a href="/blog/snoski-na-poljah-v-egee/">Сноски на полях в Эгее</a>.</p>



	
</article>

<nav class="row row-between-sm space-in-top-kilo-xs hidden-from-xl pagination">
	<span class="col-xs-12 col-sm-4 space-in-v-nano-xs space-in-v-zero-md previous">
		
			<a title="Beat Cop" class="link" href="/blog/beat-cop/">&lsaquo; Ранее</a>
		
	</span>

	<span class="col-xs-12 col-sm-4 space-in-v-nano-xs space-in-v-zero-md page-number">Запись: 80 из 88</span>

	<span class="col-xs-12 col-sm-4 space-in-v-nano-xs space-in-v-zero-md next">
		
			<a title="О любимых сериалах" class="link" href="/blog/o-ljubimyh-serialah/">Позднее &rsaquo;</a>
		
	</span>
</nav>
            <footer class="space-in-top-kilo-xs">	
	<div class="copyright">
		<div class="row">
			<div class="col-xs">
			Александра Травкина &copy; <time>23 января 2018</time>
			</div>
			<div class="col-xs-shrink toggle">
				<span class="toggle-menu menu-bottom">&middot;&middot;&middot;</span>
			</div>
		</div>
	</div>

	<section class="navigation">
	<nav class="space-out-top-micro-xs space-in-top-micro-xs space-in-h-micro-xs space-in-h-base-sm space-minus-h-micro-xs space-minus-h-base-sm menu" id="menu">
		<ol class="menu-content">
			<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a target="_blank" href="/feed">RSS</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md active"><a class="link-subcontrol" href="/blog/">Блог</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a class="link-subcontrol" href="/blog/tags/">Теги</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a class="link-subcontrol" href="/photo/">Фотографии</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a class="link-subcontrol" href="/donate/">Поддержать</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a class="link-subcontrol" href="/about/">Об авторе</a></li>
			
			
			
				<li class="space-in-right-micro-md space-in-bottom-nano-xs space-in-bottom-zero-md"><a class="link-subcontrol" href="http://steambuy.com/partner/milkleaks">Магазин игр</a></li>
			
		</ol>
	</nav>
</section>
</footer>
        </div>
    </div>
</div>

		<!--[ JS ]-->
		<!--[if lt IE 9]>
<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/javascript" src="/static/js/jekyll-search.js"></script>
<script type="text/javascript" src="/static/modules/fotorama/fotorama.js"></script>
<script type="text/javascript" src="/static/modules/lightbox/lightbox.js"></script>
<script type="text/javascript" src="/static/modules/tocbot/tocbot.js"></script>

<script type="text/javascript" src="/static/js/template.js"></script>

<!--[ Lightbox ]-->
		
	</body>
</html>