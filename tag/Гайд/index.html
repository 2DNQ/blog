<!DOCTYPE html><html lang="ru"><head><title>Записи с тегом #Гайд</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="robots" content="index, follow"/><meta name="title" content="Записи с тегом #Гайд"/><meta name="description" content="Блог о компьютерных играх, фильмах, книгах, вебе и всем прочем."/><meta name="keywords" content=""/><meta property="og:type" content="website"><meta property="og:site_name" content="Milkleaks"><meta property="og:title" content="Записи с тегом #Гайд"/><meta property="og:description" content="Блог о компьютерных играх, фильмах, книгах, вебе и всем прочем."/><meta property="og:url" content="http://milkleaks.ru/tag/Гайд/index.html"><meta property="og:locale" content="ru"><meta property="og:image" content="/assets/images/cat.png"/><meta property="og:image:width" content="968"><meta property="og:image:height" content="504"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Записи с тегом #Гайд"><meta name="twitter:description" content="Блог о компьютерных играх, фильмах, книгах, вебе и всем прочем."><meta name="twitter:image:src" content="/assets/images/cat.png"><meta name="twitter:url" content="http://milkleaks.ru/tag/Гайд/index.html"><meta name="twitter:domain" content="http://milkleaks.ru"><meta name="yandex-verification" content="74c3b5c777ee0ba1"/><meta name="google-site-verification" content="jqmtruexSTI1O_HYicSlVMgM4nNh_Di_7zlyTbYlMc8"/><link rel="canonical" href="http://milkleaks.ru/tag/Гайд/index.html"><link rel="alternate" type="application/rss+xml" title="Milkleaks: Блог о компьютерных играх, фильмах, книгах, вебе и всем прочем." href="http://milkleaks.ru/feed.xml"/> <script>base_url="http://milkleaks.ru"</script><link href="/assets/css/style.css?1504918568126896900" rel="stylesheet" type="text/css"></head><body> <nav><div class="common full"><div class="wrapper"><div class="navigation"><div class="avatar"> <a href="/"> <img src="http://milkleaks.ru/assets/images/logo.png"/> </a></div><div class="frame"></div></div></div><div class="aside"><div class="search-base"><div class="frame"><div class="search"><div class="search-form"> <input id="search-input" class="search-box"/> <span class="search-button"> <i class="fa fa-search open" aria-hidden="true"></i> <i class="fa fa-times close" aria-hidden="true"></i> </span></div><ul id="results-container" class="dropdown"></ul></div></div></div></div></div> </nav><div class="content"><div class="common"><div class="post-list full"> <article class="post"><div class="maintenance single short"><h1 class="title"> <a href="/blog/ustanavlivaem-jekyll-na-windows/">Устанавливаем Jekyll на Windows</a></h1><div class="entry"><p>По мере настройки и доведения блога до ума я столкнулась с необходимостью установки тех или иных плагинов на <a href="http://jekyllrb.com/">Jekyll</a>, а значит ограничиваться <a href="https://pages.github.com/">GitHub Pages</a> стало нельзя. А потому, я решила собирать сайт локально и отправлять на GitHub Pages уже готовое. Минусы - Сайт привязан к компьютеру, если Windows слетит настраивать придется заново. Плюсы - Можно использовать любые плагины, редактировать сайт локально прежде чем выпустить в свет. В целом, за сохранность блога можно не беспокоится, исходные файлы хранится в <mark>master</mark> ветке репозитория, а собранный сайт в ветке <mark>gh-pages</mark>, до кучи мой сайт хранятся еще и в Dropbox, таким образом его можно синхронизировать между компьютерами, но на каждый из них придется ставить Ruby и прочие дистрибутивы. В общем, для себя и для вас написала этот гайд по установке Jekyll на Windows.</p><hr/><p>Для установки Jekyll на Windows у вас должна быть 64-разрядная Windows 10 старше версии 1607 “Anniversary Update”. Чтобы узнать версию своей операционной системы откройте <strong>Параметры</strong> - <strong>Система</strong> - <strong>О системе</strong>. Если все в порядке, запустите <mark>PowerShell</mark> от администратора и введите:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Enable</span><span class="o">-</span><span class="no">WindowsOptionalFeature</span> <span class="o">-</span><span class="no">Online</span> <span class="o">-</span><span class="no">FeatureName</span> <span class="no">Microsoft</span><span class="o">-</span><span class="no">Windows</span><span class="o">-</span><span class="no">Subsystem</span><span class="o">-</span><span class="no">Linux</span></code></pre></figure><p>Компьютер перезагрузится. Далее, чтобы установить среду Ubuntu в Windows понадобится включить режим разработчика, откройте <strong>Параметры</strong> - <strong>Обновление и безопасность</strong> - <strong>Для разработчиков</strong> и включите “Режим разработчика”. Откройте <mark>cmd</mark> от администратора и введите:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">bash</span></code></pre></figure><p><img src="https://i.imgur.com/NgKO6eb.png" alt="Устанавливаем Jekyll на Windows"/></p><p>Примите лицензионное соглашение и дождитесь окончания установки. После её завершения будет предложено ввести имя пользователя и пароль которые могут пригодиться в будущем.</p><p>Приступим к установке Jekyll. Но для начала обновим пакеты:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">-</span><span class="n">y</span> <span class="o">&amp;&amp;</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span> <span class="o">-</span><span class="n">y</span></code></pre></figure><p>Теперь можно установить Ruby на котором работает Jekyll. Для этого используем репозиторий <a href="https://www.brightbox.com/docs/ruby/ubuntu/">BrightBox</a> оптимизированный для Ubuntu. Вводим команды:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">add</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="ss">:brightbox</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="n">ng</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ruby2</span><span class="o">.</span><span class="mi">3</span> <span class="n">ruby2</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">dev</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span></code></pre></figure><p>Обновляем RubyGems.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">gem</span> <span class="n">update</span></code></pre></figure><p>Теперь осталось установить сам Jekyll.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">gem</span> <span class="n">install</span> <span class="n">jekyll</span> <span class="n">bundler</span></code></pre></figure><p>Проверить правильность установки можно командой:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">jekyll</span> <span class="o">-</span><span class="n">v</span></code></pre></figure><p>Jekyll установлен. Теперь создайте свой блог.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">jekyll</span> <span class="kp">new</span> <span class="n">my_blog</span></code></pre></figure><p>По умолчанию файлы блога будут находиться по адресу <mark>C:/Пользователи/Имя_пользователя/my_blog</mark>, но его можно размещать и в любой другой папке, на любом диске. Чтобы ничего не потерялось и можно было синхронизироваться между компьютерами я размещаю и использую блог прямо из папки Dropbox’a. Далее переходим в папку с блогом:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">cd</span> <span class="n">my_blog</span></code></pre></figure><p>Теперь можно запустить Jekyll.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">bundle</span> <span class="nb">exec</span> <span class="n">jekyll</span> <span class="n">serve</span></code></pre></figure><p>Блог станет доступен по локальному адресу <a href="http://localhost:4000">localhost:4000</a></p><h2 id="Использованы-материалы">Использованы материалы</h2><ul><li><a href="https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#for-anniversary-update-and-creators-update-install-using-lxrun">Инструкция с сайта Microsoft</a></li><li><a href="https://jekyllrb.com/docs/windows/">Официальная документация Jekyll</a></li></ul></div><div class="actions"><div class="tags"> <span class="date" title=" 4 сентября 2017">2017</span> <a href="/category/Веб/" class="category">Веб</a> - <a href="/tag/cms/"> CMS </a>, <a href="/tag/jekyll/"> Jekyll </a>, <a href="/tag/Гайд/"> Гайд </a></div></div></div> </article> <article class="post"><div class="maintenance single short"><h1 class="title"> <a href="/blog/pishem-svoy-shablon-dlya-egei/">Пишем свой шаблон для Эгеи</a></h1><div class="entry"><p>Написать свой шаблон для <a href="http://blogengine.ru">Эгеи</a> не так сложно как может показаться на первый взгляд. Давайте разберем основные принципы построения шаблона используя некоторые простые примеры.</p><ul><li>Пользовательские шаблоны находятся в папке ../themes вашего блога. Создадим в ней папку и назовем ее так, как хотим чтобы назывался наш шаблон. Например «ghost» — ../themes/ghost.</li><li>Файл с каринкой-превьюшкой вашего шаблона должен называться preview@2x.png и находится в корне шаблона.</li><li>Информация о вашем шаблоне хранится в файле theme-info.php в корневой папке шаблона и содержит в себе:</li></ul><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="k">return</span> <span class="n">array</span> <span class="p">(</span>
    <span class="s1">'display_name'</span> <span class="o">=&gt;</span> <span class="n">array</span> <span class="p">(</span>
        <span class="s1">'en'</span> <span class="o">=&gt;</span> <span class="s1">'Ghost'</span><span class="p">,</span>
        <span class="s1">'ru'</span> <span class="o">=&gt;</span> <span class="s1">'Призрак'</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">);</span> <span class="sc">?&gt;</span></code></pre></figure><p>Называем свою тему для русской и английской версии для отображения в <del>админке</del> настройках сайта.</p><h2 id="Структура-папок">Структура папок</h2><div block=""><p><mark>../themes/ghost/images</mark> — Папка с изображениями темы.</p><p><mark>../themes/ghost/js</mark> — Папка со скриптами.</p><p><mark>../themes/ghost/styles</mark> — Папка со стилями.</p><p><mark>../themes/ghost/templates</mark> — Файлы шаблона.</p></div><p>Если файлов в папках вашего шаблона нет, они будут браться из стандартной темы Эгеи, которая располагается по пути <mark>../system/theme</mark>.</p><h2 id="Шаблоны">Шаблоны</h2><p>Теперь стоит подробнее разобрать содержимое папки <mark>../system/theme/templates</mark> стандартного шаблона Эгеи. Чтобы понять как выглядит тот или иной элемент шаблона я добавила скриншоты, наводите мышью на заголовки для их отображения.</p><div base=""><p pic=""><mark>author-menu.tmpl.php</mark> — Меню автора. <img src="http://i.imgur.com/Xixlisq.png"/></p><p pic=""><mark>comments-heading.tmpl.php</mark> — Заголовок списка комментариев с счетчиком их количества. <img src="http://i.imgur.com/j4FJTYb.png"/></p><p pic=""><mark>comments.tmpl.php</mark> — Список комментариев. <img src="http://i.imgur.com/aBRjPgN.png"/></p><p pic=""><mark>drafts.tmpl.php</mark> — Список черновиков. <img src="http://i.imgur.com/y5rRFnl.png"/></p><p pic=""><mark>form-comment.tmpl.php</mark> — Форма комментирования. <img src="http://i.imgur.com/k9i1Fiq.png"/></p><p pic=""><mark>form-database.tmpl.php</mark> — Форма подключения к базе данных. <img src="http://i.imgur.com/yLs600v.png"/></p><p pic=""><mark>form-install.tmpl.php</mark> — Форма установки Эгеи.</p><p pic=""><mark>form-login.tmpl.php</mark> — Форма авторизации. <img src="http://i.imgur.com/s25cnt0.png"/></p><p pic=""><mark>form-note-delete.tmpl.php</mark> — Форма удаления поста. <img src="http://i.imgur.com/9odhCTC.png"/></p><p pic=""><mark>form-note-publish.tmpl.php</mark> — Кнопка публикации поста. <img src="http://i.imgur.com/Oteslpu.png"/></p><p pic=""><mark>form-note.tmpl.php</mark> — Форма публикации поста. <img src="http://i.imgur.com/YibeAcF.png"/></p><p pic=""><mark>form-password.tmpl.php</mark> — Форма смены админ-пароля. <img src="http://i.imgur.com/E6Y6Hdk.png"/></p><p pic=""><mark>form-preferences.tmpl.php</mark> — Форма общих настроек блога. <img src="http://i.imgur.com/TT6aEAI.png"/></p><p pic=""><mark>form-tag-delete.tmpl.php</mark> — Форма удаления тега. <img src="http://i.imgur.com/qnX41i4.png"/></p><p pic=""><mark>form-tag.tmpl.php</mark> — Форма редактирования тега. <img src="http://i.imgur.com/hSugesE.png"/></p><p pic=""><mark>head.tmpl.php</mark> — Метатеги в head.</p><p pic=""><mark>heading.tmpl.php</mark> — Заголовки. <img src="http://i.imgur.com/ErKitlN.png"/></p><p pic=""><mark>init-script.tmpl.php</mark> — Подключение дополнительных скриптов.</p><p pic=""><mark>layout.tmpl.php</mark> — Основная разметка шаблона внтури body.</p><p pic=""><mark>login-element.tmpl.php</mark> — Кнопка авторизации. <img src="http://i.imgur.com/n6AasoE.png"/></p><p pic=""><mark>main.tmpl.php</mark> — Общая разметка, подключение скриптов.</p><p pic=""><mark>notes-list.tmpl.php</mark> — Список избранных постов.</p><p pic=""><mark>notes.tmpl.php</mark> — Шаблон поста. Заголовок, текст, дата, теги, ссылка на комментарии.</p><p pic=""><mark>pages-earlier.tmpl.php</mark> — Кнопка к постам «Ранее». <img src="http://i.imgur.com/Wjgz62o.png"/></p><p pic=""><mark>pages-later.tmpl.php</mark> — Кнопка к постам «Позднее». <img src="http://i.imgur.com/g0uovmp.png"/></p><p pic=""><mark>pages.tmpl.php</mark> — Навигация между постами. <img src="http://i.imgur.com/wFFluuo.png"/></p><p pic=""><mark>popular.tmpl.php</mark> — Блок популярных постов. <img src="http://i.imgur.com/ZEmPi29.png"/></p><p pic=""><mark>search.tmpl.php</mark> — Форма поиска и теги. <img src="http://i.imgur.com/P7mrga1.png"/></p><p pic=""><mark>tags-menu.tmpl.php</mark> — Список избранных тегов. <img src="http://i.imgur.com/RHERlFp.png"/></p><p pic=""><mark>tags.tmpl.php</mark> — Страница тегов. <img src="http://i.imgur.com/t5bEc9V.png"/></p><p pic=""><mark>user-picture.tmpl.php</mark> — Аватар блога. <img src="http://i.imgur.com/e65kuj9.png"/></p></div><p>Чтобы внести изменения в ту или иную часть шаблона скопируйте соответствующий файл из стандартной темы <mark>../system/theme/templates</mark> в папку <mark>templates</mark> вашего шаблона и уже там производите все изменения.</p><h2 id="Подключение-частей-шаблона">Подключение частей шаблона</h2><p>Официальная <a href="https://docs.google.com/document/d/1yn7KCHq47oli7IH--skhymjjj2OSlXjcyGOxZ2ZEPeA/edit#heading=h.j2h2wr6xhlie">документация</a> по шаблонам Эгеи сообщает:</p><blockquote><p>Шаблон может вызывать другие шаблоны для отображения конкретного фрагмента: _T () — вызывает шаблон по имени. _T_FOR () — вызывает шаблон по имени, если в массиве $content есть ключ с таким именем. _X () — вставляет дополнительный блок (не забывайте это использовать в своих шаблонах там, где это делают комплектные). Шаблон layout.tmpl.php «срабатывает» потому, что main.tmpl.php вызывает его для формирования тела страницы.</p></blockquote><p>Давайте разберем это на примере — добавим блок со случайной цитатой. Создадим файл <mark>quote.tmpl.php</mark> в <mark>../themes/ghost/templates</mark> со следующим несложным кодом:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">div</span> <span class="k">class</span><span class="o">=</span><span class="s2">"e2-quote"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="p">?</span><span class="n">php</span>
        <span class="vg">$quotes</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">'
        &lt;p&gt;Ибо здесь, похоже, мы не найдем ничего, кроме, как сказала бы Мильва, ремонтизма.&lt;/p&gt;
        &lt;span&gt;Анджей Сапковский - Владычица Озера&lt;/span&gt;'</span><span class="p">;</span>
        <span class="vg">$quotes</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">'
        &lt;p&gt;Цири громко чертыхнулась, повторив любимое выражение Весемира, значение которого было ей не вполне ясно. Потом добавила еще несколько слов, услышанных от Ярпена Зигрина, значение которых было для нее вообще полнейшей загадкой.&lt;/p&gt;
        &lt;span&gt;Анджей Сапковский - Кровь Эльфов&lt;/span&gt;'</span><span class="p">;</span>
        <span class="vg">$quotes</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">'
        &lt;p&gt;Весемир кивал, время от времени вставляя замечания, из которых следовало только то, что «в его времена» все было лучше, логичнее, приличнее и здоровее.&lt;/p&gt;
        &lt;span&gt;Анджей Сапковский - Последнее Желание&lt;/span&gt;'</span><span class="p">;</span>

        <span class="nb">srand</span> <span class="p">((</span><span class="n">double</span><span class="p">)</span> <span class="n">microtime</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000000</span><span class="p">);</span>
        <span class="vg">$random_number</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">count</span><span class="p">(</span><span class="vg">$quotes</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">echo</span> <span class="p">(</span><span class="vg">$quotes</span><span class="p">[</span><span class="vg">$random_number</span><span class="p">]);</span>
    <span class="sc">?&gt;</span>
<span class="o">&lt;</span><span class="sr">/div&gt;</span></code></pre></figure><p>Теперь достаточно открыть <mark>layout.tmpl.php</mark> и где-нибудь перед footer’ом добавить вывод шаблона <mark>quote.tmpl.php</mark> средством специального макроса.</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_T</span> <span class="p">(</span><span class="s1">'quote'</span><span class="p">)</span> <span class="sc">?&gt;</span></code></pre></figure><p>Чтобы блок с случайными цитатами отображался только на главной странице оберните его соответствующим параметром:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="k">if</span> <span class="p">(</span><span class="vg">$content</span><span class="p">[</span><span class="s1">'class'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'frontpage'</span><span class="p">)</span> <span class="p">{</span> <span class="sc">?&gt;</span>
    <span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_T</span> <span class="p">(</span><span class="s1">'quote'</span><span class="p">)</span> <span class="sc">?&gt;</span>
<span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="p">}</span> <span class="sc">?&gt;</span></code></pre></figure><p>Таким несложным способом вы можете добавлять новые блоки на страницы своего блога. По такому же принципу строятся все остальные страницы шаблона. Например если мы посмотрим стандартный &lt;p&gt;layout.tmpl.php&lt;/p&gt; с 47 по 59 строку, то увидим как подхватываются почти все основные шаблоны сайта.</p><h2 id="Подключение-собственных-js-и-css">Подключение собственных JS и CSS</h2><p>Для подключения JS и CSS в Эгее также существуют специальные макросы. Для наглядности откройте стандартный <mark>main.tmpl.php</mark> и посмотрите в конец файла, после закрывающегося тега <mark>body</mark>:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_CSS</span> <span class="p">(</span><span class="s1">'main'</span><span class="p">)</span> <span class="sc">?&gt;</span>
<span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_JS</span> <span class="p">(</span><span class="s1">'main'</span><span class="p">)</span> <span class="sc">?&gt;</span></code></pre></figure><p>Здесь подхватываются <mark>../js/main.js</mark> и <mark>../styles/main.css</mark> из папки вашего шаблона. Для примера, давайте добавим анимацию появления постов с помощью <a href="https://github.com/matthieua/WOW">wow.js</a>. Скачайте сам wow.js и положите в папку <mark>js</mark> вашего шаблона. Также скачайте <a href="https://github.com/daneden/animate.css">animate.css</a> и разместите в папке <mark>styles</mark>. Откройте <mark>main.tmpl.php</mark> и подключите их:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_CSS</span> <span class="p">(</span><span class="s1">'animate'</span><span class="p">)</span> <span class="sc">?&gt;</span>
<span class="o">&lt;</span><span class="p">?</span><span class="n">php</span> <span class="n">_JS</span> <span class="p">(</span><span class="s1">'wow'</span><span class="p">)</span> <span class="sc">?&gt;</span></code></pre></figure><p>Далее в файл <mark>init-script.tmpl.php</mark> понадобится добавить следующий код с настройками wow.js:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
    <span class="n">var</span> <span class="n">wow</span> <span class="o">=</span> <span class="kp">new</span> <span class="no">WOW</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="ss">boxClass: </span><span class="s1">'wow'</span><span class="p">,</span>
            <span class="ss">animateClass: </span><span class="s1">'animated'</span><span class="p">,</span>
            <span class="ss">offset: </span><span class="mi">0</span><span class="p">,</span>
            <span class="ss">mobile: </span><span class="kp">true</span><span class="p">,</span>
            <span class="ss">live: </span><span class="kp">true</span><span class="p">,</span>
            <span class="ss">callback: </span><span class="n">function</span><span class="p">(</span><span class="n">box</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">},</span>
            <span class="ss">scrollContainer: </span><span class="n">null</span>
        <span class="p">}</span>
    <span class="p">);</span>
    <span class="n">wow</span><span class="p">.</span><span class="nf">init</span><span class="p">();</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure><p>Теперь остается открыть шаблон <mark>notes.tmpl.php</mark> и к основному div’у поста (18 строка) добавить класс <mark>wow fadeIn</mark>, а в <mark>main.css</mark> добавить <mark>.wow { visibility: hidden; }</mark>. По аналогии с данным примером в ваш шаблон можно добавлять какие угодно скрипты и стили.</p></div><div class="actions"><div class="tags"> <span class="date" title=" 29 апреля 2017">2017</span> <a href="/category/Веб/" class="category">Веб</a> - <a href="/tag/cms/"> CMS </a>, <a href="/tag/Гайд/"> Гайд </a>, <a href="/tag/Эгея/"> Эгея </a></div></div></div> </article> <article class="post"><div class="maintenance single short"><h1 class="title"> <a href="/blog/ustanovka-flarum-na-centos-7/">Установка flarum на centOS</a></h1><div class="entry"><p>Все же если есть блог, стоит в него что нибудь написать. Так вот, не так давно на просторах сети повстречала относительно новый форумный движок — <a href="http://flarum.org/">flarum</a>. Судя по тому, что уже есть, CMS’ка довольно перспективная, симпатичная и вообще быстро развивающаяся. Не смотря на то, что flarum все еще в бета-версии, захотелось поставить её на поддомен и посмотреть чуть более детально. Собственно говоря, в этой статье я описываю процесс установки flarum’a на centOS 7. А потому, если вы не связаны со сферой web’a, можете пролистывать дальше.</p><p>Ставилась flarum на centOS 7 самого обычного <a href="https://www.ihor.ru/vds">VDS хостинга</a>. Для установки требуется Apache (с mod_rewrite), Nginx и Lighttpd. PHP версии 5.5 и выше, MySQL 5.5 и конечно же SSH консоль, так как ставится flarum через Сomposer.</p><h2 id="Обновляем-php">Обновляем PHP</h2><p>Так как на сервере стоял PHP версии 5.4 нам придется его обновить. Открываем консоль и добавляем репозиторий:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rpm</span> <span class="o">-</span><span class="no">Uvh</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">rpms</span><span class="p">.</span><span class="nf">famillecollet</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">enterprise</span><span class="o">/</span><span class="n">remi</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="mi">7</span><span class="p">.</span><span class="nf">rpm</span></code></pre></figure><p>После добавления репозитория на сервере появится папка /etc/yum.repos.d, переходим в папку и редактируем файл remi.repo. Ищем секцию:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="n">remi</span><span class="o">-</span><span class="n">php56</span><span class="p">]</span>
<span class="nb">name</span><span class="o">=</span><span class="no">Les</span> <span class="no">RPM</span> <span class="n">de</span> <span class="n">remi</span> <span class="n">de</span> <span class="no">PHP</span> <span class="mi">5</span><span class="o">.</span><span class="mi">6</span> <span class="n">pour</span> <span class="no">Enterprise</span> <span class="no">Linux</span> <span class="mi">6</span> <span class="o">-</span> <span class="vg">$basearch</span><span class="o">&amp;</span><span class="n">nbsp</span>
<span class="c1">#baseurl=http://rpms.famillecollet.com/enterprise/6/php56/$basearch/
</span>
<span class="n">mirrorlist</span><span class="o">=</span><span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">rpms</span><span class="p">.</span><span class="nf">famillecollet</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">enterprise</span><span class="o">/</span><span class="mi">6</span><span class="o">/</span><span class="n">php56</span><span class="o">/</span><span class="n">mirror</span>
<span class="c1">#WARNING: If you enable this repository, you must also enable "remi"
</span>
<span class="n">enabled</span><span class="o">=</span><span class="mi">0</span>
<span class="n">gpgcheck</span><span class="o">=</span><span class="mi">1</span>
<span class="n">gpgkey</span><span class="o">=</span><span class="n">file</span><span class="ss">:/</span><span class="o">/</span><span class="sr">/etc/</span><span class="n">pki</span><span class="o">/</span><span class="n">rpm</span><span class="o">-</span><span class="n">gpg</span><span class="o">/</span><span class="no">RPM</span><span class="o">-</span><span class="no">GPG</span><span class="o">-</span><span class="no">KEY</span><span class="o">-</span><span class="n">remi</span></code></pre></figure><p>И меняем параметр enabled=0 на enabled=1. Аналогично можно обновится с PHP версии 5.4 до 5.5 в соответствующей секции remi-php55.</p><p>Далее редактируем /etc/httpd/conf.d/phpmyadmin.conf. Находим строку с параметром php_admin_value open_basedir и добавляем :/usr/share/doc/. Должно получится следующее:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">php_admin_value</span> <span class="n">open_basedir</span> <span class="s2">"/usr/share/phpMyAdmin/:/etc/phpMyAdmin/:/var/lib/phpMyAdmin/:/tmp/:/usr/share/php/:/var/lib/php/session/:/usr/share/doc/"</span></code></pre></figure><p>Делается это для того, что бы не возникло проблем при обновлении phpmyadmin.</p><p>Теперь в консоль можно ввести следующее:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">yum</span> <span class="n">install</span> <span class="n">php</span> <span class="o">-</span><span class="n">y</span></code></pre></figure><p>И PHP обновится до 5.6 версии, соответственно. Проверяем:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">php</span> <span class="o">-</span><span class="n">v</span></code></pre></figure><h2 id="Обновляем-остальные-пакеты">Обновляем остальные пакеты</h2><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="err">у</span><span class="n">um</span> <span class="n">update</span></code></pre></figure><h2 id="Устанавливаем-lighttpd">Устанавливаем Lighttpd</h2><p>Ставим wget:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">wget</span></code></pre></figure><p>Обновляем репозитории:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">rpm</span> <span class="o">--</span><span class="n">import</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">fedoraproject</span><span class="p">.</span><span class="nf">org</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="mo">060</span><span class="mi">8</span><span class="no">B895</span><span class="p">.</span><span class="nf">txt</span>
<span class="n">sudo</span> <span class="n">wget</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">dl</span><span class="p">.</span><span class="nf">fedoraproject</span><span class="p">.</span><span class="nf">org</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">epel</span><span class="o">/</span><span class="mi">6</span><span class="o">/</span><span class="n">x86_64</span><span class="o">/</span><span class="n">epel</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="mi">8</span><span class="p">.</span><span class="nf">noarch</span><span class="p">.</span><span class="nf">rpm</span>
<span class="n">sudo</span> <span class="n">rpm</span> <span class="o">-</span><span class="n">ivh</span> <span class="n">epel</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="mi">8</span><span class="p">.</span><span class="nf">noarch</span><span class="p">.</span><span class="nf">rpm</span></code></pre></figure><p>Устанавливаем lighttpd:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">lighttpd</span></code></pre></figure><p>Прописываем автостарт:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">chkconfig</span> <span class="o">--</span><span class="n">levels</span> <span class="mi">235</span> <span class="n">lighttpd</span> <span class="n">on</span></code></pre></figure><p>Запускаем и проверяем:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">sudo</span> <span class="n">service</span> <span class="n">lighttpd</span> <span class="n">start</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="n">lighttpd</span> <span class="n">status</span></code></pre></figure><h2 id="Устанавливаем-composer">Устанавливаем Composer</h2><p>Установка composer предельно проста:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">curl</span> <span class="o">-</span><span class="n">sS</span> <span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">getcomposer</span><span class="p">.</span><span class="nf">org</span><span class="o">/</span><span class="n">installer</span> <span class="o">|</span> <span class="n">php</span>
<span class="n">mv</span> <span class="n">composer</span><span class="p">.</span><span class="nf">phar</span> <span class="sr">/usr/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">composer</span></code></pre></figure><p>Проверяем:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">composer</span> <span class="o">-</span><span class="n">v</span></code></pre></figure><h2 id="Устанавливаем-flarum">Устанавливаем Flarum</h2><p>Если все сделано правильно, то вы смело можете приступать к установке flarum. Переходим в папку с сайтом:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">cd</span> <span class="sr">/var/</span><span class="n">www</span><span class="o">/</span><span class="err">имя</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="err">домен</span></code></pre></figure><p>Папка домена должна быть пуста. Вводим:</p><figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">composer</span> <span class="n">create</span><span class="o">-</span><span class="n">project</span> <span class="n">flarum</span><span class="o">/</span><span class="n">flarum</span> <span class="p">.</span> <span class="nf">-</span><span class="o">-</span><span class="n">stability</span><span class="o">=</span><span class="n">beta</span></code></pre></figure><p>Начнется установка flarum. После завершения установки откройте сайт в браузере и завершите установку flarum.</p><h2 id="Возникающие-ошибки">Возникающие ошибки</h2><div block=""><p><b>Q</b>: Нет доступа к сайту, в логах ссылается на “Option Multiviews not allowed here”.</p><p><b>A</b>: Править /etc/httpd/conf.d/z1_home.conf, изменить значение параметра AllowOverride на All.</p><p><b>Q</b>: При установке flarum composer выдает ошибку: PHP Fatal error: Uncaught exception ‘ErrorException’ with message ’proc_open(): fork failed — Cannot allocate memory’ in phar</p><p><b>A</b>: Смотрите заметку на <a href="https://getcomposer.org/doc/articles/troubleshooting.md#proc-open-fork-failed-errors">getcomposer.org</a></p></div></div><div class="actions"><div class="tags"> <span class="date" title=" 17 января 2016">2016</span> <a href="/category/Веб/" class="category">Веб</a> - <a href="/tag/cms/"> CMS </a>, <a href="/tag/Гайд/"> Гайд </a></div></div></div> </article> <article class="post"><div class="maintenance single short"><h1 class="title"> <a href="/blog/roskomnadzor-i-obhod-blokirovok/">«Роскомнадзор» и обход блокировок</a></h1><div class="entry"><p>Все чаще приходится сталкиваться с новостями о блокировке тех или иных сайтов, то торрент-трекеры, то lostfilm, то еще что нибудь. Законодательство старается ограничить доступ к бесплатному контенту, книгам, фильмам и играм, либо попросту блокирует сайты за неугодный контент, куда попадает все что заблагорассудится, от недовольства нынешним режимом власти, до ню фурри-арта, например. Лично мне кажется, что интернет должен быть свободным и никто не в праве решать, кому и что смотреть. Наверное все, кому нужно было посещать свои любимые, но заблокированные “Роскомнадзором”, сайты, так или иначе нашли способ обхода, ведь об этом, кажется, писали на каждом углу. Но если кто-то еще не в курсе, есть несколько плагинов для различных популярных браузеров. Например <a href="https://fri-gate.org/ru">friGate</a> или <a href="https://browsec.com/en/">browsec</a>. Установка плагина всего в пару кликов, но rutracker’ы, rutor’ы и прочие заблокированные ресурсы будут доступны без проблем. Так же можно пользоваться <a href="http://hideme.ru/">анонимайзерами</a>, <a href="https://chrome.google.com/webstore/detail/data-saver/pfmgfdlgomnbgkofeojodiodmgpgmkac">турбо-режимами</a> браузера и VPN.</p><h2 id="Луковый-браузер">«Луковый» браузер</h2><p>..он же TOR. Устанавливает зашифрованное, анонимное соединение через несколько прокси. Если беспокоитесь о анонимности в интернете и не хотите, что бы за вами выехали, TOR к вашим услугам. Скачать можно <a href="https://www.torproject.org/projects/torbrowser.html.en">здесь</a>. К слову, через TOR можно просматривать .onion сайты не доступные в обычном интернете. Например есть зеркало <a href="http://flibustahezeous3.onion/">Флибусты</a>, на случай блокировки или удаления основной. В обращении TOR прост как обычный браузер.</p></div><div class="actions"><div class="tags"> <span class="date" title=" 10 января 2016">2016</span> <a href="/category/Веб/" class="category">Веб</a> - <a href="/tag/Гайд/"> Гайд </a></div></div></div> </article></div></div><div class="common full"></div></div> <nav class="breadcrumbs"><div class="common"> <a href="/">Главная</a> <i class="fa fa-angle-left" aria-hidden="true"></i> <a href="/blog/">Блог</a> <i class="fa fa-angle-left" aria-hidden="true"></i> <span>Записи с тегом #Гайд</span></div> </nav> <footer><div class="common full"><div class="wrapper"><div class="copyright"> <a href="/about">Александра Травкина</a> © 2015 - 2017 <a target="_blank" href="/feed">RSS</a><br/> Блог о <a href="/category/Игры/">компьютерных играх</a>, <a href="/category/Фильмы/">фильмах</a>, <a href="/category/Книги/">книгах</a>, <a href="/category/Веб/">вебе</a> и <a href="/category/Заметки/">всем прочем</a>.</div></div><div class="aside"></div></div> </footer> <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--> <script src="/assets/js/jquery.js"></script><script src="/assets/js/lazysizes.js" async></script><script src="/assets/js/jekyll-search.js"></script><script src="/assets/js/likely.js"></script><script src="/assets/js/fotorama.js"></script><script src="/assets/js/lightbox.js"></script><script src="/assets/js/readmore.js"></script><script src="/assets/js/tocbot.js"></script><script src="/assets/js/main.js"></script> <script src="https://milkleaks-ru.disqus.com/count.js" id="dsq-count-scr" async></script></body></html>